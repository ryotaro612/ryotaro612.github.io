<!DOCTYPE html>
<html lang="en">
  <head>
    
        
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
       new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
       j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		    })(window,document,'script','dataLayer','GTM-W5TDG76');
    </script>
        
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=300,initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css"
          integrity="sha512-NmLkDIU1C/C88wi324HBc+S2kLhi08PN5GDeUVVVC/BVt/9Izdsc9SVeVfA1UZbY3sHUlDSyRXhCzHfr6hmPPw=="
          crossorigin="anonymous" />
    
    <link rel="stylesheet" href="https://ryotaro.dev/scss/base.min.d5f9c6d3a478082690f838fa06a179ccee4dea5bd3f0cb3f4a357e2803c48d33.css">
    
    <link rel="stylesheet" href="https://ryotaro.dev/scss/base.en.min.fabf7968ffbe5ff626ec9a346f0d38e91d0078974112f713b9d25782380a5073.css">
    

<link rel="stylesheet" href="https://ryotaro.dev/scss/single.min.ac39fd9b1999326c116cd551ce035fd4eaf2801f6bfc13a90241a1d9275b21ec.css">

<link rel="stylesheet" href="https://ryotaro.dev/scss/posts/single.min.0008713f3f7556e78c13cb8efde9cf534239cb206c10ba85ce5a76e6ae9ce758.css">

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script src="https://kit.fontawesome.com/e48a1b5aa5.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
    
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js" integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>
    
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
            onload="renderMathInElement(document.body);"></script>
    <title>Apache Calcite a Foundational Framework for Optimized Query Processing Over Heterogeneous Data Sources</title>
  </head>

  <body>
        
    
    <noscript>
      <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W5TDG76" height="0" width="0" style="display:none;visibility:hidden"/>
    </noscript>
    
        
    <header class="navigation">
      <h2><a href="https://ryotaro.dev/en/">Blanket</a></h2>
      <nav>
        <ul>
          <li><a href="https://ryotaro.dev/en/about">About</a></li>
          <li><a href="https://ryotaro.dev/en/posts">Posts</a></li>
          <li><a href="https://ryotaro.dev/en/tags">Tags</a></li>
	  
	  <li><a href="https://ryotaro.dev/posts/apache-calcite-a-foundational-framework-for-optimized-query-processing-over-heterogeneous-data-sources/">ja</a></li>
	  
        </ul>	
	<ul>
          
          <li>
            <a href="https://github.com/ryotaro612">
              <i class="fab fa-github"></i>
            </a>
          </li>
          
          
          <li>
            <a href="https://www.linkedin.com/in/ryotaro612/">
              <i class="fab fa-linkedin-in"></i>
            </a>
          </li>
          
          <li>
	    <a href="https://ryotaro.dev/en/index.xml">
	      <i class="fas fa-rss"></i>
            </a>
	  </li>
          
        </ul>	
      </nav>
    </header>
    
<main>
  <h1>Apache Calcite a Foundational Framework for Optimized Query Processing Over Heterogeneous Data Sources</h1>
  <ul class="tags">
    
    <li class="tag">
      <a href="https://ryotaro.dev/en/tags/apache-calcite/">
	#Apache Calcite
      </a>
    </li>
    
  </ul>  
  <span class="date">March 10, 2024</span>    
  <div>
    <p>Michael StonebrakerとUğur Çetintemel presented <a href="https://cs.brown.edu/~ugur/fits_all.pdf">One Size Fits All</a> in 2005.
The title refers to the fact that traditional RDBMS had been used to implement a variety of data-centric applications.
Tn the paper, they argued that the phrase was no longer applicable and predicted the rise of domain-specific database engines.
Indeed, organizations leverage various domain-specific database engines such as column stores and text search engines today.</p>
<p>However, the end of the &ldquo;One Size Fits All&rdquo; paradigm brought two problems.
First, the developers of each domain-specific database engine have to independently implement similar essential features such as query optimiztion and query interpretaion.
Second, data are distributed across heterogeneous databases, and they have to be integrated before processing.</p>
<p><a href="https://calcite.apache.org/">Apache Calcite</a> was developed to solves these problems.
Calcite provides SQL processsing features including query intepretation and optimization.
Calcite does not contain a storage layer.
Istead of containing it, given a SQL query, Calcite interprets and optimizes the query, and sends requests to backend databases.
After receving the processed data from backends, Calcite integrates the data and responds to the client.
Client can run SQL queries through Calcite to process data in backends as if the data were stored in one RDBMS.</p>
<p>Calcite connects to backend databases to get data to handle instead of holding its own storage.
The locations of the backends are specified in files called models.
The collection of data in a backend is seen as if a RDBMS schema from the Calcite clients.
The following block is an example of a model.
<code>factory</code> in the model denotes the class that implements <a href="https://calcite.apache.org/javadocAggregate/org/apache/calcite/schema/SchemaFactory.html">SchemaFactory</a>.
The factory  creates a <a href="https://calcite.apache.org/javadocAggregate/org/apache/calcite/schema/Schema.html">Schema</a> object that behaves as a RDMBS schema.</p>
<pre><code>{
  version: '1.0',
  defaultSchema: 'SALES',
  schemas: [
    {
      name: 'SALES',
      type: 'custom',
      factory: 'org.apache.calcite.adapter.csv.CsvSchemaFactory',
      operand: {
        directory: 'sales'
      }
    }
  ]
}
</code></pre>
<p>A relational operator is an unit of operation to a set.
For instance, filter, project and join are operators.
The <a href="https://calcite.apache.org/javadocAggregate/org/apache/calcite/schema/Table.html">Table</a> instances that the schema contains implement the table scan operator that provides the data in the table.
Calcite traslates a SQL query to an expression tree of relational operators.
The physical properties of an operator are called traits, and the optimzier uses traits to evaluates the cost of different alternative plans.
One of major traits is calling convention trait that represents the backend where the expression will be executed.
For example, the operator with spark convention trait makes the expression run in Apache Spark.</p>
<p>The query operator repeatedly transforms an expression that keep the original semantics but runs at a lower cost by applying transformation rules called planner rules.
For example, Calcite processes queries involing tables across multiple backends by pushing down all possible logic to each backend.</p>
  </div>
</main>

    
<ul class="pagination">
    
    <li>
      <a href="/en/posts/mining-association-rules-between-sets-of-items-in-large-databases/">
	<i class="fa-solid fa-xl fa-angle-left"></i>
      </a>
    </li>
    
    
    <li>
      <a href="/en/posts/llama-open-and-efficient-foundation-language-models/">
	<i class="fa-solid fa-xl fa-angle-right"></i>
      </a>
    </li>
    
</ul>


    <footer>
      <small>© Ryotaro. All Rights Reserved.</small>
    </footer>
  </body>

</html>
